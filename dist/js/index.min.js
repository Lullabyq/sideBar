class NavigationMenu{constructor(e){this.elem=e,this.fixIcon(),window.addEventListener("resize",this.adaptSmallScreen.bind(this)),window.addEventListener("load",this.adaptSmallScreen.bind(this)),e.addEventListener("click",(e=>{if(!document.querySelector(".sidebar--active")&&e.target.closest("form")){let t=e.target.closest("form");t.classList.add("disable-transition"),this.open(),search.querySelector(".search__text").focus(),t.classList.remove("disable-transition")}let t=e.target.closest("button");if(!t)return;let s=t.dataset.status;s&&this[s]()})),e.addEventListener("pointerdown",(t=>{if(t.target.closest("li")){let e=t.target.closest("li").getBoundingClientRect(),s=t.clientY,r=t.clientX,a=e.left,i=e.top,l=document.createElement("span");l.className="bubble",l.style.top=s-i+"px",l.style.left=r-a+"px",t.target.closest("li").append(l)}let s=e.querySelector(".search__confirm");(t.target.closest("button")||t.target==s||"A"==t.target.tagName)&&t.preventDefault()})),document.addEventListener("pointerup",this.removeBubble.bind(this))}open(){this.elem.classList.add("sidebar--active"),button.dataset.status="close",document.querySelector("main").style.left=barWidthStandart+"px",search.classList.toggle("disable-hover"),this.toggleSearch()}close(){this.elem.classList.remove("sidebar--active"),button.dataset.status="open",document.querySelector("main").style.left=barWidthShort+"px",search.classList.toggle("disable-hover"),this.toggleSearch()}toggleSearch(){search.querySelectorAll("input").forEach((e=>{"submit"==e.getAttribute("type")&&(e.hidden=!e.hidden)}))}fixIcon(){let e=this.elem.querySelector(".icon--outOfFlow");e.style.left=barWidthShort/2-e.offsetWidth/2+"px"}adaptSmallScreen(){let e=this.elem.querySelectorAll(".icon--small"),t=0;this.checkHeight(410)?e.forEach((e=>{e.classList.add("icon--"+t++)})):e.forEach((e=>{e.classList.remove("icon--"+t++)}))}removeBubble(){this.elem.querySelector(".bubble")&&this.elem.querySelector(".bubble").remove()}checkHeight(e){return document.documentElement.clientHeight<=e}}let barWidthShort=65,barWidthStandart=180,button=document.querySelector(".burger--btn"),sidebar=document.querySelector(".sidebar"),menu=new NavigationMenu(sidebar),search=document.querySelector(".sidebar--search");