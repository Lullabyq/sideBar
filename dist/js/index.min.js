class NavigationMenu{constructor(e){this.elem=e,e.addEventListener("click",(e=>{if(!document.querySelector(".sidebar--active")&&e.target.closest("form")){let t=e.target.closest("form");t.classList.add("disable-transition"),this.open(),search.querySelector(".search__text").focus(),t.classList.remove("disable-transition")}let t=e.target.closest("button");if(!t)return;let s=t.dataset.status;s&&this[s]()})),e.addEventListener("pointerdown",(t=>{if(t.target.closest("li")){let e=t.target.closest("li").getBoundingClientRect(),s=t.clientY,r=t.clientX,a=e.left,l=e.top,o=document.createElement("span");o.className="bubble",o.style.top=s-l+"px",o.style.left=r-a+"px",t.target.closest("li").append(o)}let s=e.querySelector(".search__confirm");(t.target.closest("button")||t.target==s||"A"==t.target.tagName)&&t.preventDefault()})),document.addEventListener("pointerup",(t=>{e.querySelector(".bubble")&&e.querySelector(".bubble").remove()}))}open(){this.elem.classList.add("sidebar--active"),button.dataset.status="close",document.querySelector("main").style.left=barWidthStandart+"px",search.classList.toggle("disable-hover"),this.toggleSearch()}close(){this.elem.classList.remove("sidebar--active"),button.dataset.status="open",document.querySelector("main").style.left=barWidthShort+"px",search.classList.toggle("disable-hover"),this.toggleSearch()}toggleSearch(){search.querySelectorAll("input").forEach((e=>{"submit"==e.getAttribute("type")&&(e.hidden=!e.hidden)}))}}let barWidthShort=65,barWidthStandart=180,button=document.querySelector(".burger--btn"),sidebar=document.querySelector(".sidebar"),menu=new NavigationMenu(sidebar),search=document.querySelector(".sidebar--search");